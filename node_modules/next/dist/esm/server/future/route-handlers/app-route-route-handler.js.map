{"version":3,"sources":["../../../../src/server/future/route-handlers/app-route-route-handler.ts"],"names":["isNotFoundError","getURLFromRedirectError","isRedirectError","RequestAsyncStorageWrapper","getRequestMeta","handleBadRequestResponse","handleInternalServerErrorResponse","handleMethodNotAllowedResponse","handleNotFoundResponse","handleTemporaryRedirectResponse","isHTTPMethod","NextRequest","fromNodeHeaders","Log","patchFetch","StaticGenerationAsyncStorageWrapper","NodeModuleLoader","process","env","NEXT_RUNTIME","require","wrapRequest","req","originalRequest","url","Error","body","method","duplex","headers","resolveHandlerError","err","bubbleResult","redirect","error","sendResponse","res","response","statusCode","status","statusMessage","statusText","forEach","value","name","toLowerCase","setHeader","appendHeader","originalResponse","consumeUint8ArrayReadableStream","iterator","chunk","write","end","AppRouteRouteHandler","constructor","requestAsyncLocalStorageWrapper","staticAsyncLocalStorageWrapper","moduleLoader","resolve","mod","handlers","resolvedPagePath","NODE_ENV","invalidMethodName","toUpperCase","handler","methods","Object","keys","filter","handlerMethod","includes","push","allow","sort","join","Response","Allow","execute","params","definition","module","context","request","requestAsyncStorage","staticGenerationAsyncStorage","handle","wrap","pathname","renderOpts","_req","nonStaticHandlers","usedNonStaticHandlers","length","staticGenerationBailout","staticGenerationStore","getStore","dynamicConfig","dynamic","revalidateConfig","revalidate","defaultRevalidate","handleNextUrlBailout","prop","wrappedNextUrl","Proxy","nextUrl","get","target","set","handleReqBailout","headerHooks","wrappedReq","has","match","appRouteModule","load","filename"],"mappings":"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"}