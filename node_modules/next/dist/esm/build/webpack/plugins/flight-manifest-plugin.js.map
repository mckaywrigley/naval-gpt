{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-manifest-plugin.ts"],"names":["path","webpack","sources","CLIENT_REFERENCE_MANIFEST","SYSTEM_ENTRYPOINTS","relative","sep","isClientComponentModule","regexCSS","edgeServerModuleIds","serverModuleIds","traverseModules","nonNullable","WEBPACK_LAYERS","PLUGIN_NAME","ASYNC_CLIENT_MODULES","Set","FlightManifestPlugin","dev","constructor","options","appDir","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createAsset","context","manifest","__ssr_module_mapping__","__edge_ssr_module_mapping__","__entry_css_files__","clientRequestsSet","collectClientRequest","mod","resource","buildInfo","rsc","requests","forEach","r","add","chunkGroups","chunkGroup","recordModule","id","chunkCSS","isCSSModule","test","type","loaders","some","item","loader","includes","layer","appClient","_identifier","slice","lastIndexOf","moduleExports","moduleIdMapping","edgeModuleIdMapping","ssrNamedModuleId","resourceResolveData","startsWith","replace","default","chunks","has","exportsInfo","moduleGraph","getExportsInfo","isAsyncModule","cjsExports","map","dep","base","names","filter","getAppPathRequiredChunks","requiredChunk","hash","moduleExportedKeys","concat","exports","exportInfo","provided","requiredChunks","async","get","chunk","chunkModules","chunkGraph","getChunkModulesIterable","files","f","endsWith","modId","getModuleId","anyModule","modules","concatenatedMod","entryCSSFiles","addCSSFilesToEntry","entryName","key","cssFiles","getFiles","length","getParents","parent","file","json","JSON","stringify","undefined","clear","RawSource"],"mappings":"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"}