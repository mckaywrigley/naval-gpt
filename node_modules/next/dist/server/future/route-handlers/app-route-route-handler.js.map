{"version":3,"sources":["../../../../src/server/future/route-handlers/app-route-route-handler.ts"],"names":["sendResponse","Log","NodeModuleLoader","process","env","NEXT_RUNTIME","require","wrapRequest","req","originalRequest","url","getRequestMeta","Error","body","method","NextRequest","duplex","headers","fromNodeHeaders","resolveHandlerError","err","bubbleResult","isRedirectError","redirect","getURLFromRedirectError","handleTemporaryRedirectResponse","isNotFoundError","handleNotFoundResponse","error","handleInternalServerErrorResponse","res","response","statusCode","status","statusMessage","statusText","forEach","value","name","toLowerCase","setHeader","appendHeader","originalResponse","consumeUint8ArrayReadableStream","iterator","chunk","write","end","AppRouteRouteHandler","constructor","requestAsyncLocalStorageWrapper","RequestAsyncStorageWrapper","staticAsyncLocalStorageWrapper","StaticGenerationAsyncStorageWrapper","moduleLoader","resolve","mod","isHTTPMethod","handleBadRequestResponse","handlers","resolvedPagePath","NODE_ENV","invalidMethodName","toUpperCase","handler","methods","Object","keys","filter","handlerMethod","includes","push","allow","sort","join","Response","Allow","handleMethodNotAllowedResponse","execute","params","definition","module","context","request","requestAsyncStorage","staticGenerationAsyncStorage","handle","wrap","pathname","renderOpts","_req","nonStaticHandlers","usedNonStaticHandlers","length","staticGenerationBailout","staticGenerationStore","getStore","dynamicConfig","dynamic","revalidateConfig","revalidate","defaultRevalidate","handleNextUrlBailout","prop","wrappedNextUrl","Proxy","nextUrl","get","target","set","handleReqBailout","headerHooks","wrappedReq","has","match","appRouteModule","load","filename","patchFetch"],"mappings":"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"}